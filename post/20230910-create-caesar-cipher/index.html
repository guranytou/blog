<!doctype html><html lang=ja-jp>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<title>Goでシーザー暗号を実装してみた - しゅがーぽっと</title>
<meta name=description content="まえがき RFCを見ながらMD5を実装しようかなと思ったけど、その前にGoでシーザー暗号を実装してみようかなと思ってやってみた記事です。
コード package main import ( &#34;bufio&#34; &#34;fmt&#34; &#34;math/rand&#34; &#34;os&#34; &#34;strings&#34; &#34;time&#34; ) func main() { scanner := bufio.NewScanner(os.Stdin) fmt.Print(&#34;文字列を入力してください: &#34;) scanner.Scan() str := scanner.Text() s := rand.NewSource(time.Now().UnixNano()) r := rand.New(s) n := byte(r.Intn(25)) convert := caesar_cipher(str, n) fmt.Println(str, &#34;を&#34;, n, &#34;文字ずらすと&#34;, convert) } func caesar_cipher(str string, n byte) string { convert := make([]string, len(str)) for i := 0; i < len(str); i++ { var b byte if str[i] >= 'A' && str[i] <= 'Z' { if str[i]+n > 'Z' { b = 'A' + (str[i] + n - 'Z') - 1 } else { b = str[i] + n } } else if str[i] >= 'a' && str[i] <= 'z' { if str[i]+n > 'z' { b = 'a' + (str[i] + n - 'z') - 1 } else { b = str[i] + n } } else { b = str[i] } convert[i] = string(b) } return strings.">
<meta name=author content="guranytou">
<link rel="preload stylesheet" as=style href=https://guranytou.github.io/blog/app.min.css>
<link rel="preload stylesheet" as=style href=https://guranytou.github.io/blog/an-old-hope.min.css>
<script defer src=https://guranytou.github.io/blog/highlight.min.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=preload as=image href=https://guranytou.github.io/blog/theme.png>
<link rel=preload as=image href=https://guranytou.github.io/blog/twitter.svg>
<link rel=preload as=image href=https://guranytou.github.io/blog/github.svg>
<link rel=icon href=https://guranytou.github.io/blog/favicon.ico>
<link rel=apple-touch-icon href=https://guranytou.github.io/blog/apple-touch-icon.png>
<meta name=generator content="Hugo 0.88.0">
<meta property="og:title" content="Goでシーザー暗号を実装してみた">
<meta property="og:description" content="まえがき RFCを見ながらMD5を実装しようかなと思ったけど、その前にGoでシーザー暗号を実装してみようかなと思ってやってみた記事です。
コード package main import ( &#34;bufio&#34; &#34;fmt&#34; &#34;math/rand&#34; &#34;os&#34; &#34;strings&#34; &#34;time&#34; ) func main() { scanner := bufio.NewScanner(os.Stdin) fmt.Print(&#34;文字列を入力してください: &#34;) scanner.Scan() str := scanner.Text() s := rand.NewSource(time.Now().UnixNano()) r := rand.New(s) n := byte(r.Intn(25)) convert := caesar_cipher(str, n) fmt.Println(str, &#34;を&#34;, n, &#34;文字ずらすと&#34;, convert) } func caesar_cipher(str string, n byte) string { convert := make([]string, len(str)) for i := 0; i < len(str); i++ { var b byte if str[i] >= 'A' && str[i] <= 'Z' { if str[i]+n > 'Z' { b = 'A' + (str[i] + n - 'Z') - 1 } else { b = str[i] + n } } else if str[i] >= 'a' && str[i] <= 'z' { if str[i]+n > 'z' { b = 'a' + (str[i] + n - 'z') - 1 } else { b = str[i] + n } } else { b = str[i] } convert[i] = string(b) } return strings.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://guranytou.github.io/blog/post/20230910-create-caesar-cipher/"><meta property="article:section" content="post">
<meta property="article:published_time" content="2023-09-10T15:39:48+09:00">
<meta property="article:modified_time" content="2023-09-10T15:39:48+09:00">
<meta itemprop=name content="Goでシーザー暗号を実装してみた">
<meta itemprop=description content="まえがき RFCを見ながらMD5を実装しようかなと思ったけど、その前にGoでシーザー暗号を実装してみようかなと思ってやってみた記事です。
コード package main import ( &#34;bufio&#34; &#34;fmt&#34; &#34;math/rand&#34; &#34;os&#34; &#34;strings&#34; &#34;time&#34; ) func main() { scanner := bufio.NewScanner(os.Stdin) fmt.Print(&#34;文字列を入力してください: &#34;) scanner.Scan() str := scanner.Text() s := rand.NewSource(time.Now().UnixNano()) r := rand.New(s) n := byte(r.Intn(25)) convert := caesar_cipher(str, n) fmt.Println(str, &#34;を&#34;, n, &#34;文字ずらすと&#34;, convert) } func caesar_cipher(str string, n byte) string { convert := make([]string, len(str)) for i := 0; i < len(str); i++ { var b byte if str[i] >= 'A' && str[i] <= 'Z' { if str[i]+n > 'Z' { b = 'A' + (str[i] + n - 'Z') - 1 } else { b = str[i] + n } } else if str[i] >= 'a' && str[i] <= 'z' { if str[i]+n > 'z' { b = 'a' + (str[i] + n - 'z') - 1 } else { b = str[i] + n } } else { b = str[i] } convert[i] = string(b) } return strings."><meta itemprop=datePublished content="2023-09-10T15:39:48+09:00">
<meta itemprop=dateModified content="2023-09-10T15:39:48+09:00">
<meta itemprop=wordCount content="160">
<meta itemprop=keywords content=",,">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Goでシーザー暗号を実装してみた">
<meta name=twitter:description content="まえがき RFCを見ながらMD5を実装しようかなと思ったけど、その前にGoでシーザー暗号を実装してみようかなと思ってやってみた記事です。
コード package main import ( &#34;bufio&#34; &#34;fmt&#34; &#34;math/rand&#34; &#34;os&#34; &#34;strings&#34; &#34;time&#34; ) func main() { scanner := bufio.NewScanner(os.Stdin) fmt.Print(&#34;文字列を入力してください: &#34;) scanner.Scan() str := scanner.Text() s := rand.NewSource(time.Now().UnixNano()) r := rand.New(s) n := byte(r.Intn(25)) convert := caesar_cipher(str, n) fmt.Println(str, &#34;を&#34;, n, &#34;文字ずらすと&#34;, convert) } func caesar_cipher(str string, n byte) string { convert := make([]string, len(str)) for i := 0; i < len(str); i++ { var b byte if str[i] >= 'A' && str[i] <= 'Z' { if str[i]+n > 'Z' { b = 'A' + (str[i] + n - 'Z') - 1 } else { b = str[i] + n } } else if str[i] >= 'a' && str[i] <= 'z' { if str[i]+n > 'z' { b = 'a' + (str[i] + n - 'z') - 1 } else { b = str[i] + n } } else { b = str[i] } convert[i] = string(b) } return strings.">
</head>
<body class=not-ready data-menu=true>
<header class=header>
<p class=logo>
<a class=site-name href=https://guranytou.github.io/blog/>しゅがーぽっと</a><a class=btn-dark></a>
</p>
<script>let bodyClx=document.body.classList,btnDark=document.querySelector('.btn-dark'),sysDark=window.matchMedia('(prefers-color-scheme: dark)'),darkVal=localStorage.getItem('dark'),setDark=a=>{bodyClx[a?'add':'remove']('dark'),localStorage.setItem('dark',a?'yes':'no')};setDark(darkVal?darkVal==='yes':sysDark.matches),requestAnimationFrame(()=>bodyClx.remove('not-ready')),btnDark.addEventListener('click',()=>setDark(!bodyClx.contains('dark'))),sysDark.addEventListener('change',a=>setDark(a.matches))</script>
<nav class=menu>
<a href=/blog/resume/></a>
<a href=/blog/about/>About</a>
</nav>
<nav class=social>
<a class=twitter style=--url:url(./twitter.svg) href=https://twitter.com/gurany_tou target=_blank></a>
<a class=github style=--url:url(./github.svg) href=https://github.com/guranytou target=_blank></a>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-title>
<aside>
<time>September 10, 2023</time>
<span>guranytou</span>
</aside>
<h1>Goでシーザー暗号を実装してみた</h1>
</header>
<section class=post-content><h2 id=まえがき>まえがき</h2>
<p>RFCを見ながらMD5を実装しようかなと思ったけど、その前にGoでシーザー暗号を実装してみようかなと思ってやってみた記事です。</p>
<h2 id=コード>コード</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;bufio&#34;</span>
	<span style=color:#e6db74>&#34;fmt&#34;</span>
	<span style=color:#e6db74>&#34;math/rand&#34;</span>
	<span style=color:#e6db74>&#34;os&#34;</span>
	<span style=color:#e6db74>&#34;strings&#34;</span>
	<span style=color:#e6db74>&#34;time&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>scanner</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>bufio</span>.<span style=color:#a6e22e>NewScanner</span>(<span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Stdin</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Print</span>(<span style=color:#e6db74>&#34;文字列を入力してください: &#34;</span>)
	<span style=color:#a6e22e>scanner</span>.<span style=color:#a6e22e>Scan</span>()
	<span style=color:#a6e22e>str</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>scanner</span>.<span style=color:#a6e22e>Text</span>()

	<span style=color:#a6e22e>s</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>rand</span>.<span style=color:#a6e22e>NewSource</span>(<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Now</span>().<span style=color:#a6e22e>UnixNano</span>())
	<span style=color:#a6e22e>r</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>rand</span>.<span style=color:#a6e22e>New</span>(<span style=color:#a6e22e>s</span>)
	<span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> byte(<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>Intn</span>(<span style=color:#ae81ff>25</span>))

	<span style=color:#a6e22e>convert</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>caesar_cipher</span>(<span style=color:#a6e22e>str</span>, <span style=color:#a6e22e>n</span>)

	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>str</span>, <span style=color:#e6db74>&#34;を&#34;</span>, <span style=color:#a6e22e>n</span>, <span style=color:#e6db74>&#34;文字ずらすと&#34;</span>, <span style=color:#a6e22e>convert</span>)
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>caesar_cipher</span>(<span style=color:#a6e22e>str</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>n</span> <span style=color:#66d9ef>byte</span>) <span style=color:#66d9ef>string</span> {
	<span style=color:#a6e22e>convert</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>string</span>, len(<span style=color:#a6e22e>str</span>))
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; len(<span style=color:#a6e22e>str</span>); <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
		<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>byte</span>
		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>str</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>&gt;=</span> <span style=color:#e6db74>&#39;A&#39;</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>str</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>&lt;=</span> <span style=color:#e6db74>&#39;Z&#39;</span> {
			<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>str</span>[<span style=color:#a6e22e>i</span>]<span style=color:#f92672>+</span><span style=color:#a6e22e>n</span> &gt; <span style=color:#e6db74>&#39;Z&#39;</span> {
				<span style=color:#a6e22e>b</span> = <span style=color:#e6db74>&#39;A&#39;</span> <span style=color:#f92672>+</span> (<span style=color:#a6e22e>str</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;Z&#39;</span>) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
			} <span style=color:#66d9ef>else</span> {
				<span style=color:#a6e22e>b</span> = <span style=color:#a6e22e>str</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>n</span>
			}
		} <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>str</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>&gt;=</span> <span style=color:#e6db74>&#39;a&#39;</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>str</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>&lt;=</span> <span style=color:#e6db74>&#39;z&#39;</span> {
			<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>str</span>[<span style=color:#a6e22e>i</span>]<span style=color:#f92672>+</span><span style=color:#a6e22e>n</span> &gt; <span style=color:#e6db74>&#39;z&#39;</span> {
				<span style=color:#a6e22e>b</span> = <span style=color:#e6db74>&#39;a&#39;</span> <span style=color:#f92672>+</span> (<span style=color:#a6e22e>str</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;z&#39;</span>) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
			} <span style=color:#66d9ef>else</span> {
				<span style=color:#a6e22e>b</span> = <span style=color:#a6e22e>str</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>n</span>
			}
		} <span style=color:#66d9ef>else</span> {
			<span style=color:#a6e22e>b</span> = <span style=color:#a6e22e>str</span>[<span style=color:#a6e22e>i</span>]
		}
		<span style=color:#a6e22e>convert</span>[<span style=color:#a6e22e>i</span>] = string(<span style=color:#a6e22e>b</span>)
	}
	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Join</span>(<span style=color:#a6e22e>convert</span>, <span style=color:#e6db74>&#34;&#34;</span>)
}
</code></pre></div><h2 id=やってみてのあれそれ>やってみてのあれそれ</h2>
<p>大文字は大文字のままに、小文字は小文字のままにしたかったのでこんな感じの条件分岐。<br>
標準入力で文字を入力して乱数で1-25文字ずらすようにしました。<br>
最初はROT13作ってたけど流石に簡単すぎたので。<br>
<code>n := byte(r.Intn(25))</code>にして足すようにしたけど他にいい方法あるのかなあ。</p>
</section>
<footer class=post-tags>
<a href=https://guranytou.github.io/blog/tags/></a>
<a href=https://guranytou.github.io/blog/tags/></a>
</footer>
<nav class=post-nav>
<a class=next href=https://guranytou.github.io/blog/post/20230105-summarize/><span>去年の振り返りと今年の目標</span><span>→</span></a>
</nav>
</article>
</main>
<footer class=footer>
<p>&copy; 2023 <a href=https://guranytou.github.io/blog/>しゅがーぽっと</a></p>
<p>Powered by <a href=https://gohugo.io/ rel=noopener target=_blank>Hugo️️</a>️</p>
<p>
<a href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>Paper 5.0</a>
</p>
</footer>
</body>
</html>